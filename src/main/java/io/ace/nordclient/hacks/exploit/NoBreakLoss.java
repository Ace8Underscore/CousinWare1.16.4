package io.ace.nordclient.hacks.exploit;

import io.ace.nordclient.event.PacketEvent;
import io.ace.nordclient.hacks.Hack;
import me.zero.alpine.listener.EventHandler;
import me.zero.alpine.listener.Listener;
import net.minecraft.network.play.client.CPlayerDiggingPacket;

public class NoBreakLoss extends Hack {

    public NoBreakLoss() {
        super("NoBreakLoss", Category.EXPLOIT, 10237501, null);
    }

    /*public void onUpdate() {
        if (mc.gameSettings.keyBindUseItem.isKeyDown() && mc.player.getHeldItemMainhand().getItem() instanceof ItemFood) {
            mc.player.canEat(true);
            mc.player.connection.sendPacket(new CPacketPlayerTryUseItem(EnumHand.MAIN_HAND));
        } */
    //}

    @EventHandler
    private final Listener<PacketEvent.Send> listener = new Listener<>(event -> {
        if (event.getPacket() instanceof CPlayerDiggingPacket) {
            if (((CPlayerDiggingPacket) event.getPacket()).getAction().equals(CPlayerDiggingPacket.Action.ABORT_DESTROY_BLOCK)) {
                event.setCanceled(true);
            }
        }
    });
}
