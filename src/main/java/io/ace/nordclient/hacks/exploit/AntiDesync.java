package io.ace.nordclient.hacks.exploit;

import io.ace.nordclient.event.PacketEvent;
import io.ace.nordclient.hacks.Hack;
import me.zero.alpine.listener.EventHandler;
import me.zero.alpine.listener.Listener;
import net.minecraft.network.play.client.CPlayerPacket;

public class AntiDesync extends Hack {

    public AntiDesync() {
        super("AntiDesync", Category.EXPLOIT, 6560843, null);
    }

    @EventHandler
    private final Listener<PacketEvent.Send> listener = new Listener<>(event -> {
        if (mc.player.isOnGround()) {
            if (mc.player.getMotion().getX() == 0 && mc.player.getMotion().getY() == 0 && mc.player.getMotion().getZ() == 0) {
                if (event.getPacket() instanceof CPlayerPacket) {
                    event.setCanceled(true);
                }
            }
        }
    });
}
